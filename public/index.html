<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>üî•Covid Chartüî•</title>

  <!-- update the version number as needed -->
  <script defer src="/__/firebase/9.3.0/firebase-app-compat.js"></script>
  <!-- include only the Firebase features as you need -->
  <script defer src="/__/firebase/9.3.0/firebase-auth-compat.js"></script>
  <script defer src="/__/firebase/9.3.0/firebase-database-compat.js"></script>
  <script defer src="/__/firebase/9.3.0/firebase-firestore-compat.js"></script>
  <script defer src="/__/firebase/9.3.0/firebase-functions-compat.js"></script>
  <script defer src="/__/firebase/9.3.0/firebase-messaging-compat.js"></script>
  <script defer src="/__/firebase/9.3.0/firebase-storage-compat.js"></script>
  <script defer src="/__/firebase/9.3.0/firebase-analytics-compat.js"></script>
  <script defer src="/__/firebase/9.3.0/firebase-remote-config-compat.js"></script>
  <script defer src="/__/firebase/9.3.0/firebase-performance-compat.js"></script>
  <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
  <script defer src="/__/firebase/init.js?useEmulator=true"></script>
  <style media="screen">
   
    .footer {
      /* position: fixed; */
      left: 0;
      bottom: 2rem;
      width: 100%;
      /* background-color: red; */
      /* color: white; */
      text-align: center;
    }
  </style>
</head>

<body>
 
    <label for="datePicker">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà :</label>
    <input type="date" id="datePicker" name="trip-start" value="" min="2021-04-01">
    <!-- <canvas id="covidChart" width="400" height="100"></canvas> -->
    <canvas id="covidChart" style="position: relative;height:100; width:400"></canvas>
    <div class="footer">
      <a href="https://ddc.moph.go.th/covid19-dashboard/" target="_blank">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å ‡∏Å‡∏£‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÇ‡∏£‡∏Ñ</a>
    </div>
  

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js"
    integrity="sha512-GMGzUEevhWh8Tc/njS0bDpwgxdCJLQBWG3Z2Ct+JGOpVnEmjvNx6ts4v6A2XJf1HOrtOsfhv3hBKpK9kE5z8AQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="script.js"></script>





  <script>
    let provinceList = []
    const values = Object.values(provinces);
    for (let x in values) {
      provinceList.push(values[x])
    }

    document.addEventListener('DOMContentLoaded', function () {
      var now = new Date();
      var day = ("0" + now.getDate()).slice(-2);
      var month = ("0" + (now.getMonth())).slice(-2);
      var today = now.getFullYear() + "-" + (month) + "-" + (day);
      datePicker.value = today;
      // datePicker.max = today;
      loadData(datePicker, provinceList)
    });
    datePicker.addEventListener("blur", function () {
      myChart.destroy();
      loadData(datePicker, provinceList)

    });
  </script>
</body>

</html>